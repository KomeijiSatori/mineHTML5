0. fix bug for not hiding setting menu in firefox and edge
1. optimize graph update method makes it work much quicker